import{a as v}from"./chunk-U67325UY.js";import{h as f}from"./chunk-HUIOAFPK.js";import"./chunk-JZVI2P5Z.js";import{Na as x,Oa as b,Pa as e,Qa as t,Ta as c,Va as i,Wa as s,c as p,qa as r,ua as h,v as u,ya as S}from"./chunk-FCHZOJI3.js";var E=(a,m)=>m.dateTime;function _(a,m){if(a&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td"),i(6),t(),e(7,"td"),i(8),t(),e(9,"td",3),i(10),t(),e(11,"td",3),i(12),t(),e(13,"td",3),i(14),t()()),a&2){let n=m.$implicit;r(2),s(n.country),r(2),s(n.city),r(2),s(n.org),r(2),s(n.ip),r(2),s(n.os),r(2),s(n.browser),r(2),s(n.dateTime)}}var k=(()=>{class a{constructor(n){this.userService=n,this.data=[],this.subscription=new p,this.exclude=!1,this.ip="",this.page=0,this.getData();let l=u(5e3).subscribe(()=>{this.getData()});this.subscription.add(l),this.userService.getUserIp().subscribe(o=>this.ip=o.ip)}getData(){this.userService.getStat(this.exclude,this.ip,this.page).subscribe(n=>{this.data=n})}filter(){this.exclude=!this.exclude,this.getData()}previous(){this.page=this.page===0?0:this.page-1,this.getData()}next(){this.page++,this.getData()}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||a)(h(v))}}static{this.\u0275cmp=S({type:a,selectors:[["stat-component"]],decls:28,vars:0,consts:[[1,"wrapper","stat"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrow",3,"click"]],template:function(l,o){l&1&&(e(0,"section",0)(1,"label")(2,"input",1),c("click",function(){return o.filter()}),t(),i(3," Exclude my IP "),t(),e(4,"table",2)(5,"thead")(6,"tr")(7,"th"),i(8,"Country"),t(),e(9,"th"),i(10,"City"),t(),e(11,"th"),i(12,"Provider"),t(),e(13,"th"),i(14,"IP Address"),t(),e(15,"th",3),i(16,"Operating System"),t(),e(17,"th",3),i(18,"Browser"),t(),e(19,"th",3),i(20,"Date & Time"),t()()(),e(21,"tbody"),x(22,_,15,7,"tr",null,E),t()(),e(24,"button",4),c("click",function(){return o.previous()}),i(25,"<"),t(),e(26,"button",4),c("click",function(){return o.next()}),i(27,">"),t()()),l&2&&(r(22),b(o.data))},dependencies:[f],encapsulation:2})}}return a})();export{k as StatisticsComponent};
