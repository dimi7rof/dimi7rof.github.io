import{h as y}from"./chunk-R7JQONDK.js";import{a as P,b as k}from"./chunk-KTFRXMOF.js";import{j as O}from"./chunk-IXUY37EJ.js";import{$a as E,Qa as l,Ra as m,Sa as w,Ta as M,V as x,W as g,Ya as e,Za as t,_a as b,a as f,db as _,eb as u,gb as i,hb as s,oa as a,ta as h,u as v,xa as S}from"./chunk-J3DIXK2V.js";import"./chunk-KAT7YFEL.js";var V=(o,r)=>r.dateTime;function T(o,r){if(o&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td",6),i(6),t(),e(7,"td"),i(8),t(),e(9,"td",6),i(10),t(),e(11,"td",6),i(12),t(),e(13,"td"),i(14),t()()),o&2){let n=r.$implicit;a(2),s(n.country),a(2),s(n.city),a(2),s(n.org),a(2),s(n.ip),a(2),s(n.os),a(2),s(n.browser),a(2),s(n.dateTime)}}function I(o,r){if(o&1){let n=E();e(0,"button",10),_("click",function(){x(n);let d=u(2);return g(d.previous())}),i(1," <"),t()}}function D(o,r){o&1&&b(0,"div",8)}function z(o,r){if(o&1){let n=E();e(0,"button",10),_("click",function(){x(n);let d=u(2);return g(d.next())}),i(1," >"),t()}}function j(o,r){if(o&1){let n=E();e(0,"label")(1,"input",4),_("click",function(){x(n);let d=u();return g(d.filter())}),t(),i(2," Exclude this device "),t(),e(3,"table",5)(4,"thead")(5,"tr")(6,"th"),i(7,"Country"),t(),e(8,"th"),i(9,"City"),t(),e(10,"th",6),i(11,"Provider"),t(),e(12,"th"),i(13,"IP Address"),t(),e(14,"th",6),i(15,"Operating System"),t(),e(16,"th",6),i(17,"Browser"),t(),e(18,"th"),i(19,"Date & Time"),t()()(),e(20,"tbody"),w(21,T,15,7,"tr",null,V),t()(),e(23,"div",7)(24,"div",7),l(25,I,2,0,"button",8),l(26,D,1,0,"div",8),l(27,z,2,0,"button",8),t(),e(28,"p",9),i(29),t()()}if(o&2){let n=u();a(21),M(n.data),a(4),m(n.page>1?25:-1),a(),m(n.page<=1?26:-1),a(),m(n.data.length===n.pageSize?27:-1),a(2),s(n.page)}}function L(o,r){o&1&&(e(0,"div",1),b(1,"div",11),t())}var q=(()=>{let r=class r{constructor(c,d){this.userService=c,this.router=d,this.data=[],this.subscription=new f,this.exclude=!1,this.ip="0.0.0.0",this.page=1,this.pageSize=P.pageSize,this.getData();let p=v(6e4).subscribe(()=>{this.getData()});this.subscription.add(p),this.userService.getUserIp().subscribe(C=>this.ip=C.ip)}getData(){this.userService.getAll(this.exclude,this.ip,this.page-1).subscribe(c=>{this.data=c})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}back(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}};r.\u0275fac=function(d){return new(d||r)(h(k),h(O))},r.\u0275cmp=S({type:r,selectors:[["stat-component"]],decls:6,vars:2,consts:[[1,"wrapper","stat"],[1,"spinner-container"],[1,"wrapper","back"],[1,"back-btn",3,"click"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"arrow",3,"click"],[1,"spinner"]],template:function(d,p){d&1&&(e(0,"section",0),l(1,j,30,4),l(2,L,2,0,"div",1),t(),e(3,"section",2)(4,"button",3),_("click",function(){return p.back()}),i(5,"Back"),t()()),d&2&&(a(),m(p.data.length!==0?1:-1),a(),m(p.data.length===0?2:-1))},dependencies:[y],styles:[".pagenumber[_ngcontent-%COMP%]{position:relative;bottom:0;right:20px;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.arrow[_ngcontent-%COMP%]{position:relative;bottom:0;left:0;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.stat[_ngcontent-%COMP%]{max-width:100vw;height:86vh;overflow:auto;display:block}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:16px;text-align:left;max-height:800px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{max-height:700px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:0}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:12px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.back[_ngcontent-%COMP%]{height:5vh;max-width:100vw}@media only screen and (max-width: 920px){.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px;padding:2px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0}}@media only screen and (max-width: 500px){.mobile-hide[_ngcontent-%COMP%]{display:none}.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px}}@media (orientation: portrait){.stat[_ngcontent-%COMP%]{height:75vh}}"]});let o=r;return o})();export{q as VisitorsComponent};
