import{a as y,b as O,h as S}from"./chunk-X65ZBIGM.js";import{Na as p,Oa as a,Pa as d,Ua as v,V as x,Va as g,W as k,Xa as c,Ya as M,ma as _,qa as b,ua as C,xa as h}from"./chunk-36V3YXIK.js";function P(l,i){if(l&1){let u=v();a(0,"input",7),g("input",function(t){let n=x(u).index,o=c().index,s=c();return k(s.onInput(t,o,n))}),d()}if(l&2){let u=i.$implicit,e=i.index,t=c().index,n=c();p("readonly",!n.isEditable(t,e))("value",u!==0?u:"")}}function F(l,i){if(l&1&&(a(0,"div",5),h(1,P,1,2,"input",6),d()),l&2){let u=i.$implicit;_(),p("ngForOf",u)}}var T=(()=>{let i=class i{constructor(e){this.router=e,this.board=[]}ngOnInit(){this.board=this.generateSudokuPuzzle()}generateSudokuPuzzle(){let t=this.generateFullBoard().map(o=>[...o]),n=45;for(;n>0;){let o=Math.floor(Math.random()*9),s=Math.floor(Math.random()*9);t[o][s]!==0&&(t[o][s]=0,n--)}return t}generateFullBoard(){let e=Array.from({length:9},()=>Array(9).fill(0));return this.fillBoard(e,0,0),e}fillBoard(e,t,n){if(t===9)return!0;let o=n===8?t+1:t,s=n===8?0:n+1,f=[1,2,3,4,5,6,7,8,9].sort(()=>Math.random()-.5);for(let r of f)if(this.isSafe(e,t,n,r)){if(e[t][n]=r,this.fillBoard(e,o,s))return!0;e[t][n]=0}return!1}isSafe(e,t,n,o){for(let r=0;r<9;r++)if(e[t][r]===o||e[r][n]===o)return!1;let s=Math.floor(t/3)*3,f=Math.floor(n/3)*3;for(let r=0;r<3;r++)for(let m=0;m<3;m++)if(e[s+r][f+m]===o)return!1;return!0}isEditable(e,t){return this.board[e][t]===0}onInput(e,t,n){let o=Number(e.target.value);o>=1&&o<=9?this.board[t][n]=o:this.board[t][n]=0}back(){this.router.navigate(["/"])}};i.\u0275fac=function(t){return new(t||i)(b(S))},i.\u0275cmp=C({type:i,selectors:[["sudoku"]],decls:6,vars:1,consts:[[1,"wrapper"],[1,"sudoku-board"],["class","sudoku-row",4,"ngFor","ngForOf"],[1,"wrapper","back"],[1,"back-btn",3,"click"],[1,"sudoku-row"],["class","sudoku-cell","maxlength","1","type","text",3,"readonly","value","input",4,"ngFor","ngForOf"],["maxlength","1","type","text",1,"sudoku-cell",3,"input","readonly","value"]],template:function(t,n){t&1&&(a(0,"div",0)(1,"div",1),h(2,F,2,1,"div",2),d()(),a(3,"section",3)(4,"button",4),g("click",function(){return n.back()}),M(5,"Back"),d()()),t&2&&(_(2),p("ngForOf",n.board))},dependencies:[O,y],styles:[".sudoku-board[_ngcontent-%COMP%]{display:inline-block;border:4px solid #222;margin:16px 0;background:#fff}.sudoku-row[_ngcontent-%COMP%]{display:flex}.sudoku-cell[_ngcontent-%COMP%]{width:32px;height:32px;text-align:center;font-size:18px;border:1px solid #999;outline:none;box-sizing:border-box;background:#f9f9f9}.sudoku-cell[_ngcontent-%COMP%]:nth-child(3n){border-right:3px solid #222}.sudoku-cell[_ngcontent-%COMP%]:nth-child(1){border-left:3px solid #222}.sudoku-row[_ngcontent-%COMP%]:nth-child(3n)   .sudoku-cell[_ngcontent-%COMP%]{border-bottom:3px solid #222}.sudoku-row[_ngcontent-%COMP%]:nth-child(1)   .sudoku-cell[_ngcontent-%COMP%]{border-top:3px solid #222}"]});let l=i;return l})();export{T as SudokuComponent};
