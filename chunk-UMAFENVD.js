import{a as T}from"./chunk-OFB5OL2K.js";import{h as I}from"./chunk-QAOUVTYR.js";import{h as w}from"./chunk-XA56JFQQ.js";import{Da as S,Na as d,Oa as E,Pa as k,Qa as i,Ra as e,Sa as v,Ta as x,Ua as m,Va as p,Wa as n,Xa as s,Z as _,_ as u,c as b,ra as o,va as h,w as f,za as g}from"./chunk-AT2MGAGN.js";var y=(a,c)=>c.dateTime;function D(a,c){if(a&1&&(i(0,"tr")(1,"td"),n(2),e(),i(3,"td"),n(4),e(),i(5,"td",6),n(6),e(),i(7,"td"),n(8),e(),i(9,"td",6),n(10),e(),i(11,"td",6),n(12),e(),i(13,"td"),n(14),e()()),a&2){let t=c.$implicit;o(2),s(t.country),o(2),s(t.city),o(2),s(t.org),o(2),s(t.ip),o(2),s(t.os),o(2),s(t.browser),o(2),s(t.dateTime)}}function V(a,c){if(a&1){let t=x();i(0,"button",10),m("click",function(){_(t);let r=p(2);return u(r.previous())}),n(1,"<"),e()}}function F(a,c){a&1&&v(0,"div",8)}function M(a,c){if(a&1){let t=x();i(0,"button",10),m("click",function(){_(t);let r=p(2);return u(r.next())}),n(1,">"),e()}}function j(a,c){if(a&1){let t=x();i(0,"label")(1,"input",4),m("click",function(){_(t);let r=p();return u(r.filter())}),e(),n(2," Exclude this device "),e(),i(3,"table",5)(4,"thead")(5,"tr")(6,"th"),n(7,"Country"),e(),i(8,"th"),n(9,"City"),e(),i(10,"th",6),n(11,"Provider"),e(),i(12,"th"),n(13,"IP Address"),e(),i(14,"th",6),n(15,"Operating System"),e(),i(16,"th",6),n(17,"Browser"),e(),i(18,"th"),n(19,"Date & Time"),e()()(),i(20,"tbody"),E(21,D,15,7,"tr",null,y),e()(),i(23,"div",7)(24,"div",7),S(25,V,2,0,"button",8)(26,F,1,0,"div",8)(27,M,2,0,"button",8),e(),i(28,"p",9),n(29),e()()}if(a&2){let t=p();o(21),k(t.data),o(4),d(t.page>1?25:-1),o(),d(t.page<=1?26:-1),o(),d(t.data.length===25?27:-1),o(2),s(t.page)}}function A(a,c){a&1&&(i(0,"div",1),v(1,"div",11),e())}var R=(()=>{class a{constructor(t,l){this.userService=t,this.router=l,this.data=[],this.subscription=new b,this.exclude=!1,this.ip="0.0.0.0",this.page=1,this.getData();let r=f(6e4).subscribe(()=>{this.getData()});this.subscription.add(r),this.userService.getUserIp().subscribe(C=>this.ip=C.ip)}getData(){this.userService.getAll(this.exclude,this.ip,this.page-1).subscribe(t=>{this.data=t})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}back(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||a)(h(T),h(w))}}static{this.\u0275cmp=g({type:a,selectors:[["stat-component"]],decls:6,vars:2,consts:[[1,"wrapper","stat"],[1,"spinner-container"],[1,"wrapper","back"],[1,"back-btn",3,"click"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"arrow",3,"click"],[1,"spinner"]],template:function(l,r){l&1&&(i(0,"section",0),S(1,j,30,4)(2,A,2,0,"div",1),e(),i(3,"section",2)(4,"button",3),m("click",function(){return r.back()}),n(5,"Back"),e()()),l&2&&(o(),d(r.data.length!==0?1:-1),o(),d(r.data.length===0?2:-1))},dependencies:[I],encapsulation:2})}}return a})();export{R as StatisticsComponent};
