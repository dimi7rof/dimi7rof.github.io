import{a as v}from"./chunk-U67325UY.js";import{h as f}from"./chunk-HUIOAFPK.js";import"./chunk-JZVI2P5Z.js";import{Na as x,Oa as b,Pa as e,Qa as t,Ta as c,Va as i,Wa as a,c as p,qa as r,ua as h,v as u,ya as S}from"./chunk-FCHZOJI3.js";var g=(s,m)=>m.dateTime;function E(s,m){if(s&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td",3),i(6),t(),e(7,"td"),i(8),t(),e(9,"td",3),i(10),t(),e(11,"td",3),i(12),t(),e(13,"td"),i(14),t()()),s&2){let n=m.$implicit;r(2),a(n.country),r(2),a(n.city),r(2),a(n.org),r(2),a(n.ip),r(2),a(n.os),r(2),a(n.browser),r(2),a(n.dateTime)}}var k=(()=>{class s{constructor(n){this.userService=n,this.data=[],this.subscription=new p,this.exclude=!1,this.ip="",this.page=0,this.getData();let o=u(1e4).subscribe(()=>{this.getData()});this.subscription.add(o),this.userService.getUserIp().subscribe(l=>this.ip=l.ip)}getData(){this.userService.getStat(this.exclude,this.ip,this.page).subscribe(n=>{this.data=n})}filter(){this.exclude=!this.exclude,this.getData()}previous(){this.page=this.page===0?0:this.page-1,this.getData()}next(){this.page++,this.getData()}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||s)(h(v))}}static{this.\u0275cmp=S({type:s,selectors:[["stat-component"]],decls:32,vars:1,consts:[[1,"wrapper","stat"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow",3,"click"],[1,"pagenumber"]],template:function(o,l){o&1&&(e(0,"section",0)(1,"label")(2,"input",1),c("click",function(){return l.filter()}),t(),i(3," Exclude my IP "),t(),e(4,"table",2)(5,"thead")(6,"tr")(7,"th"),i(8,"Country"),t(),e(9,"th"),i(10,"City"),t(),e(11,"th",3),i(12,"Provider"),t(),e(13,"th"),i(14,"IP Address"),t(),e(15,"th",3),i(16,"Operating System"),t(),e(17,"th",3),i(18,"Browser"),t(),e(19,"th"),i(20,"Date & Time"),t()()(),e(21,"tbody"),x(22,E,15,7,"tr",null,g),t()(),e(24,"div",4)(25,"div",4)(26,"button",5),c("click",function(){return l.previous()}),i(27,"<"),t(),e(28,"button",5),c("click",function(){return l.next()}),i(29,">"),t()(),e(30,"p",6),i(31),t()()()),o&2&&(r(22),b(l.data),r(9),a(l.page))},dependencies:[f],encapsulation:2})}}return s})();export{k as StatisticsComponent};
