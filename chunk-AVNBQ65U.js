import{a as C}from"./chunk-U67325UY.js";import{h as w}from"./chunk-HUIOAFPK.js";import"./chunk-JZVI2P5Z.js";import{Ca as f,Ma as u,Na as g,Oa as E,Pa as e,Qa as t,Sa as x,Ta as m,Ua as h,Va as i,Wa as s,Y as d,Z as p,c as S,qa as r,ua as b,v as _,ya as v}from"./chunk-FCHZOJI3.js";var y=(a,c)=>c.dateTime;function I(a,c){if(a&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td",3),i(6),t(),e(7,"td"),i(8),t(),e(9,"td",3),i(10),t(),e(11,"td",3),i(12),t(),e(13,"td"),i(14),t()()),a&2){let n=c.$implicit;r(2),s(n.country),r(2),s(n.city),r(2),s(n.org),r(2),s(n.ip),r(2),s(n.os),r(2),s(n.browser),r(2),s(n.dateTime)}}function T(a,c){if(a&1){let n=x();e(0,"button",7),m("click",function(){d(n);let o=h();return p(o.previous())}),i(1,"<"),t()}}function k(a,c){if(a&1){let n=x();e(0,"button",7),m("click",function(){d(n);let o=h();return p(o.next())}),i(1,">"),t()}}var O=(()=>{class a{constructor(n){this.userService=n,this.data=[],this.subscription=new S,this.exclude=!1,this.ip="",this.page=1,this.getData();let l=_(1e4).subscribe(()=>{this.getData()});this.subscription.add(l),this.userService.getUserIp().subscribe(o=>this.ip=o.ip)}getData(){this.userService.getStat(this.exclude,this.ip,this.page-1).subscribe(n=>{this.data=n})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||a)(b(C))}}static{this.\u0275cmp=v({type:a,selectors:[["stat-component"]],decls:30,vars:3,consts:[[1,"wrapper","stat"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"arrow",3,"click"]],template:function(l,o){l&1&&(e(0,"section",0)(1,"label")(2,"input",1),m("click",function(){return o.filter()}),t(),i(3," Exclude my IP "),t(),e(4,"table",2)(5,"thead")(6,"tr")(7,"th"),i(8,"Country"),t(),e(9,"th"),i(10,"City"),t(),e(11,"th",3),i(12,"Provider"),t(),e(13,"th"),i(14,"IP Address"),t(),e(15,"th",3),i(16,"Operating System"),t(),e(17,"th",3),i(18,"Browser"),t(),e(19,"th"),i(20,"Date & Time"),t()()(),e(21,"tbody"),g(22,I,15,7,"tr",null,y),t()(),e(24,"div",4)(25,"div",4),f(26,T,2,0,"button",5)(27,k,2,0,"button",5),t(),e(28,"p",6),i(29),t()()()),l&2&&(r(22),E(o.data),r(4),u(o.page>1?26:-1),r(),u(o.data.length===25?27:-1),r(2),s(o.page))},dependencies:[w],encapsulation:2})}}return a})();export{O as StatisticsComponent};
