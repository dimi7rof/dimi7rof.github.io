import{a as I,b as O}from"./chunk-IUACS2OX.js";import{g as S}from"./chunk-KNJQ2LJX.js";import{Ga as d,Ha as F,Ia as x,Ja as i,Ka as n,La as C,M as _,Ma as m,Na as c,O as E,Oa as h,Pa as r,Qa as l,X as f,Y as p,a as b,b as D,c as M,na as o,qa as g,ua as w,v as A,va as v,xa as y}from"./chunk-THRWX3EU.js";var T={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ee=D(b({},T),{"[class.ng-submitted]":"isSubmitted"});var R=new E("",{providedIn:"root",factory:()=>N}),N="always";var j=(()=>{class e{static \u0275fac=function(s){return new(s||e)};static \u0275mod=v({type:e});static \u0275inj=_({})}return e})();var P=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:R,useValue:t.callSetDisabledState??N}]}}static \u0275fac=function(s){return new(s||e)};static \u0275mod=v({type:e});static \u0275inj=_({imports:[j]})}return e})();var G=(e,u)=>u.dateTime;function B(e,u){if(e&1&&(i(0,"tr")(1,"td"),r(2),n(),i(3,"td"),r(4),n(),i(5,"td",6),r(6),n(),i(7,"td"),r(8),n(),i(9,"td",6),r(10),n(),i(11,"td",6),r(12),n(),i(13,"td"),r(14),n()()),e&2){let t=u.$implicit;o(2),l(t.country),o(2),l(t.city),o(2),l(t.org),o(2),l(t.ip),o(2),l(t.os),o(2),l(t.browser),o(2),l(t.dateTime)}}function U(e,u){if(e&1){let t=m();i(0,"button",10),c("click",function(){f(t);let a=h(2);return p(a.previous())}),r(1," <"),n()}}function H(e,u){e&1&&C(0,"div",8)}function L(e,u){if(e&1){let t=m();i(0,"button",10),c("click",function(){f(t);let a=h(2);return p(a.next())}),r(1," >"),n()}}function $(e,u){if(e&1){let t=m();i(0,"label")(1,"input",4),c("click",function(){f(t);let a=h();return p(a.filter())}),n(),r(2," Exclude this device "),n(),i(3,"table",5)(4,"thead")(5,"tr")(6,"th"),r(7,"Country"),n(),i(8,"th"),r(9,"City"),n(),i(10,"th",6),r(11,"Provider"),n(),i(12,"th"),r(13,"IP Address"),n(),i(14,"th",6),r(15,"Operating System"),n(),i(16,"th",6),r(17,"Browser"),n(),i(18,"th"),r(19,"Date & Time"),n()()(),i(20,"tbody"),F(21,B,15,7,"tr",null,G),n()(),i(23,"div",7)(24,"div",7),y(25,U,2,0,"button",8)(26,H,1,0,"div",8)(27,L,2,0,"button",8),n(),i(28,"p",9),r(29),n()()}if(e&2){let t=h();o(21),x(t.data),o(4),d(t.page>1?25:-1),o(),d(t.page<=1?26:-1),o(),d(t.data.length===t.pageSize?27:-1),o(2),l(t.page)}}function W(e,u){e&1&&(i(0,"div",1),C(1,"div",11),n())}var Pe=(()=>{class e{constructor(t,s){this.userService=t,this.router=s,this.data=[],this.subscription=new M,this.exclude=!1,this.ip="0.0.0.0",this.page=1,this.pageSize=I.pageSize,this.getData();let a=A(6e4).subscribe(()=>{this.getData()});this.subscription.add(a),this.userService.getUserIp().subscribe(V=>this.ip=V.ip)}getData(){this.userService.getAll(this.exclude,this.ip,this.page-1).subscribe(t=>{this.data=t})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}back(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(s){return new(s||e)(g(O),g(S))}}static{this.\u0275cmp=w({type:e,selectors:[["stat-component"]],decls:6,vars:2,consts:[[1,"wrapper","stat"],[1,"spinner-container"],[1,"wrapper","back"],[1,"back-btn",3,"click"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"arrow",3,"click"],[1,"spinner"]],template:function(s,a){s&1&&(i(0,"section",0),y(1,$,30,4)(2,W,2,0,"div",1),n(),i(3,"section",2)(4,"button",3),c("click",function(){return a.back()}),r(5,"Back"),n()()),s&2&&(o(),d(a.data.length!==0?1:-1),o(),d(a.data.length===0?2:-1))},dependencies:[P],styles:[".pagenumber[_ngcontent-%COMP%]{position:relative;bottom:0;right:20px;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.arrow[_ngcontent-%COMP%]{position:relative;bottom:0;left:0;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.stat[_ngcontent-%COMP%]{max-width:100vw;height:86vh;overflow:auto;display:block}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:16px;text-align:left;max-height:800px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{max-height:700px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:0}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:12px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.back[_ngcontent-%COMP%]{height:5vh;max-width:100vw}@media only screen and (max-width: 920px){.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px;padding:2px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0}}@media only screen and (max-width: 500px){.mobile-hide[_ngcontent-%COMP%]{display:none}.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px}}@media (orientation: portrait){.stat[_ngcontent-%COMP%]{height:75vh}}"]})}}return e})();export{Pe as VisitorsComponent};
