import{a as O,b as N}from"./chunk-J4Y6VKIH.js";import{g as I}from"./chunk-UDETCH6T.js";import{Ha as d,Ia as c,Ja as x,Ka as S,M as y,Ma as i,Na as t,O as w,Oa as V,Pa as v,Qa as h,Ra as p,Sa as r,Ta as u,V as g,W as m,a as D,b as M,c as A,ma as s,pa as _,ta as F,ua as C,v as E}from"./chunk-FALM67UD.js";var R={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},we=M(D({},R),{"[class.ng-submitted]":"isSubmitted"});var j=new w("",{providedIn:"root",factory:()=>P}),P="always";var G=(()=>{class e{static \u0275fac=function(a){return new(a||e)};static \u0275mod=C({type:e});static \u0275inj=y({})}return e})();var k=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:j,useValue:n.callSetDisabledState??P}]}}static \u0275fac=function(a){return new(a||e)};static \u0275mod=C({type:e});static \u0275inj=y({imports:[G]})}return e})();var B=(e,o)=>o.dateTime;function U(e,o){if(e&1&&(i(0,"tr")(1,"td"),r(2),t(),i(3,"td"),r(4),t(),i(5,"td",6),r(6),t(),i(7,"td"),r(8),t(),i(9,"td",6),r(10),t(),i(11,"td",6),r(12),t(),i(13,"td"),r(14),t()()),e&2){let n=o.$implicit;s(2),u(n.country),s(2),u(n.city),s(2),u(n.org),s(2),u(n.ip),s(2),u(n.os),s(2),u(n.browser),s(2),u(n.dateTime)}}function H(e,o){if(e&1){let n=v();i(0,"button",10),h("click",function(){g(n);let l=p(2);return m(l.previous())}),r(1," <"),t()}}function L(e,o){e&1&&V(0,"div",8)}function $(e,o){if(e&1){let n=v();i(0,"button",10),h("click",function(){g(n);let l=p(2);return m(l.next())}),r(1," >"),t()}}function W(e,o){if(e&1){let n=v();i(0,"label")(1,"input",4),h("click",function(){g(n);let l=p();return m(l.filter())}),t(),r(2," Exclude this device "),t(),i(3,"table",5)(4,"thead")(5,"tr")(6,"th"),r(7,"Country"),t(),i(8,"th"),r(9,"City"),t(),i(10,"th",6),r(11,"Provider"),t(),i(12,"th"),r(13,"IP Address"),t(),i(14,"th",6),r(15,"Operating System"),t(),i(16,"th",6),r(17,"Browser"),t(),i(18,"th"),r(19,"Date & Time"),t()()(),i(20,"tbody"),x(21,U,15,7,"tr",null,B),t()(),i(23,"div",7)(24,"div",7),d(25,H,2,0,"button",8),d(26,L,1,0,"div",8),d(27,$,2,0,"button",8),t(),i(28,"p",9),r(29),t()()}if(e&2){let n=p();s(21),S(n.data),s(4),c(n.page>1?25:-1),s(),c(n.page<=1?26:-1),s(),c(n.data.length===n.pageSize?27:-1),s(2),u(n.page)}}function q(e,o){e&1&&(i(0,"div",1),V(1,"div",11),t())}var ke=(()=>{let o=class o{constructor(a,l){this.userService=a,this.router=l,this.data=[],this.subscription=new A,this.exclude=!1,this.ip="0.0.0.0",this.page=1,this.pageSize=O.pageSize,this.getData();let f=E(6e4).subscribe(()=>{this.getData()});this.subscription.add(f),this.userService.getUserIp().subscribe(b=>this.ip=b.ip)}getData(){this.userService.getAll(this.exclude,this.ip,this.page-1).subscribe(a=>{this.data=a})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}back(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}};o.\u0275fac=function(l){return new(l||o)(_(N),_(I))},o.\u0275cmp=F({type:o,selectors:[["stat-component"]],decls:6,vars:2,consts:[[1,"wrapper","stat"],[1,"spinner-container"],[1,"wrapper","back"],[1,"back-btn",3,"click"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"arrow",3,"click"],[1,"spinner"]],template:function(l,f){l&1&&(i(0,"section",0),d(1,W,30,4),d(2,q,2,0,"div",1),t(),i(3,"section",2)(4,"button",3),h("click",function(){return f.back()}),r(5,"Back"),t()()),l&2&&(s(),c(f.data.length!==0?1:-1),s(),c(f.data.length===0?2:-1))},dependencies:[k],styles:[".pagenumber[_ngcontent-%COMP%]{position:relative;bottom:0;right:20px;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.arrows[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.arrow[_ngcontent-%COMP%]{position:relative;bottom:0;left:0;width:20px;height:20px;border-radius:50%;font-size:16px;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .3s ease;background-color:transparent;color:#fbff00}.stat[_ngcontent-%COMP%]{max-width:100vw;height:86vh;overflow:auto;display:block}.user-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:20px 0;font-size:16px;text-align:left;max-height:800px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{max-height:700px}.user-table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{padding:0}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:12px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.back[_ngcontent-%COMP%]{height:5vh;max-width:100vw}@media only screen and (max-width: 920px){.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px;padding:2px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:0}}@media only screen and (max-width: 500px){.mobile-hide[_ngcontent-%COMP%]{display:none}.user-table[_ngcontent-%COMP%]{margin:10px 0;font-size:8px}}@media (orientation: portrait){.stat[_ngcontent-%COMP%]{height:75vh}}"]});let e=o;return e})();export{ke as VisitorsComponent};
