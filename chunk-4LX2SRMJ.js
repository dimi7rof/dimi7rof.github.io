import{a as T}from"./chunk-256HNIIM.js";import{h as I}from"./chunk-KVWEVOL4.js";import{h as w}from"./chunk-RNYKM5MN.js";import{Da as g,Na as d,Oa as C,Pa as E,Qa as e,Ra as t,Sa as k,Ta as x,Ua as m,Va as S,Wa as i,Xa as s,Z as u,_,c as b,ra as o,va as h,w as v,za as f}from"./chunk-3WEKHQAX.js";var y=(a,c)=>c.dateTime;function D(a,c){if(a&1&&(e(0,"tr")(1,"td"),i(2),t(),e(3,"td"),i(4),t(),e(5,"td",3),i(6),t(),e(7,"td"),i(8),t(),e(9,"td",3),i(10),t(),e(11,"td",3),i(12),t(),e(13,"td"),i(14),t()()),a&2){let n=c.$implicit;o(2),s(n.country),o(2),s(n.city),o(2),s(n.org),o(2),s(n.ip),o(2),s(n.os),o(2),s(n.browser),o(2),s(n.dateTime)}}function V(a,c){if(a&1){let n=x();e(0,"button",9),m("click",function(){u(n);let r=S();return _(r.previous())}),i(1,"<"),t()}}function F(a,c){a&1&&k(0,"div",5)}function M(a,c){if(a&1){let n=x();e(0,"button",9),m("click",function(){u(n);let r=S();return _(r.next())}),i(1,">"),t()}}var $=(()=>{class a{constructor(n,l){this.userService=n,this.router=l,this.data=[],this.subscription=new b,this.exclude=!1,this.ip="",this.page=1,this.getData();let r=v(6e4).subscribe(()=>{this.getData()});this.subscription.add(r),this.userService.getUserIp().subscribe(p=>this.ip=p.ip)}getData(){this.userService.getStat(this.exclude,this.ip,this.page-1).subscribe(n=>{this.data=n})}filter(){this.exclude=!this.exclude,this.page=1,this.getData()}previous(){this.page--,this.getData()}next(){this.page++,this.getData()}back(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(l){return new(l||a)(h(T),h(w))}}static{this.\u0275cmp=f({type:a,selectors:[["stat-component"]],decls:34,vars:4,consts:[[1,"wrapper","stat"],["type","checkbox",3,"click"],[1,"user-table"],[1,"mobile-hide"],[1,"arrows"],[1,"arrow"],[1,"pagenumber"],[1,"wrapper","back"],[1,"back-btn",3,"click"],[1,"arrow",3,"click"]],template:function(l,r){l&1&&(e(0,"section",0)(1,"label")(2,"input",1),m("click",function(){return r.filter()}),t(),i(3," Exclude this device "),t(),e(4,"table",2)(5,"thead")(6,"tr")(7,"th"),i(8,"Country"),t(),e(9,"th"),i(10,"City"),t(),e(11,"th",3),i(12,"Provider"),t(),e(13,"th"),i(14,"IP Address"),t(),e(15,"th",3),i(16,"Operating System"),t(),e(17,"th",3),i(18,"Browser"),t(),e(19,"th"),i(20,"Date & Time"),t()()(),e(21,"tbody"),C(22,D,15,7,"tr",null,y),t()(),e(24,"div",4)(25,"div",4),g(26,V,2,0,"button",5)(27,F,1,0,"div",5)(28,M,2,0,"button",5),t(),e(29,"p",6),i(30),t()()(),e(31,"section",7)(32,"button",8),m("click",function(){return r.back()}),i(33,"Back"),t()()),l&2&&(o(22),E(r.data),o(4),d(r.page>1?26:-1),o(),d(r.page<=1?27:-1),o(),d(r.data.length===25?28:-1),o(2),s(r.page))},dependencies:[I],encapsulation:2})}}return a})();export{$ as StatisticsComponent};
